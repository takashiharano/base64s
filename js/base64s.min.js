/*
 Base64S
 Copyright 2023 Takashi Harano
 Released under the MIT license
 https://b64s.com/
*/
var base64s={encode:function(a,d){if(null==a)return null;a="string"==typeof a?base64s.UTF8.toByteArray(a):a;d=base64s.UTF8.toByteArray(d);d=base64s._encode(a,d);return base64s.Base64.encode(d)},_encode:function(a,d){var c=a.length,b=d.length;if(0==c||0==b)return a;var e=b-c;0>e&&(e=0);for(var f=[],g=0;g<c;g++)f.push(a[g]^d[g%b]);a=g;for(g=0;g<e;g++)f.push(255^d[(a+g)%b]);f.push(e);return f},decode:function(a,d,c){if(null==a)return null;a=base64s.Base64.decode(a);d=base64s.UTF8.toByteArray(d);d=base64s._decode(a,
d);c||(d=base64s.UTF8.fromByteArray(d));return d},_decode:function(a,d){var c=a.length,b=d.length;if(0==c||0==b)return a;c=c-a[c-1]-1;for(var e=[],f=0;f<c;f++)e.push(a[f]^d[f%b]);return e},Base64:{encode:function(a){var d=a.length;if(0==d)return"";for(var c={64:61,63:47,62:43},b=0;62>b;b++)c[b]=26>b?b+65:52>b?b+71:b-4;var e="";for(b=0;b<d;b+=3)e+=String.fromCharCode(c[a[b]>>>2],c[(a[b]&3)<<4|a[b+1]>>>4],c[b+1<d?(a[b+1]&15)<<2|a[b+2]>>>6:64],c[b+2<d?a[b+2]&63:64]);return e},decode:function(a){var d=
[];if(0==a.length)return d;for(var c=0;c<a.length;c++){var b=a.charCodeAt(c);if(!(48<=b&&57>=b||65<=b&&90>=b||97<=b&&122>=b||43==b||47==b||61==b))throw Error("invalid b64 char: 0x"+b.toString(16).toUpperCase()+" at "+c);}b={61:64,47:63,43:62};for(c=0;62>c;c++)b[26>c?c+65:52>c?c+71:c-4]=c;var e=[];for(c=0;c<a.length;c+=4){for(var f=0;4>f;f++)e[f]=b[a.charCodeAt(c+f)||0];d.push(e[0]<<2|(e[1]&63)>>>4,(e[1]&15)<<4|(e[2]&63)>>>2,(e[2]&3)<<6|e[3]&63)}64==e[3]&&(d.pop(),64==e[2]&&d.pop());return d}},UTF8:{toByteArray:function(a){var d=
[];if(!a)return d;a=a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[\s\S]/g)||[];for(var c=0;c<a.length;c++){var b=a[c],e=b.charCodeAt(0);if(127>=e)d.push(e);else for(b=encodeURIComponent(b).split("%"),e=1;e<b.length;e++)d.push("0x"+b[e]|0)}return d},fromByteArray:function(a){if(!a)return null;for(var d="",c=0;c<a.length;c++)d+="%"+base64s.toHex(a[c]);return decodeURIComponent(d)}},toHex:function(a){a=parseInt(a).toString(16).toUpperCase();2>a.length&&(a=("0"+a).slice(-2));return a}};
